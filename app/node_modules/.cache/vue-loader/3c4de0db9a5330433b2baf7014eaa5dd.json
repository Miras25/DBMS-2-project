{"remainingRequest":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Downloads\\project\\app\\src\\views\\Register.vue?vue&type=style&index=0&id=63ae9146&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\User\\Downloads\\project\\app\\src\\views\\Register.vue","mtime":1607041340000},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\css-loader\\dist\\cjs.js","mtime":1619785764282},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1619785764623},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\postcss-loader\\src\\index.js","mtime":1619785764560},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1619785769875},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619785757533},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1619785764623}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmluZm8td3JhcHBlciB7CiAgbWF4LXdpZHRoOiA1NTBweDsKICBmbGV4OiAxOwp9Ci5yZWdpc3Rlci10aXRsZSB7CiAgZm9udC1zaXplOiAyLjJyZW07CiAgZm9udC13ZWlnaHQ6IDYwMDsKfQo="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"register-view\" class=\"px-16 pt-15 d-flex justify-space-between\">\n    <div class=\"info-wrapper\">\n      <h1 class=\"register-title\">\n        Регистрация\n      </h1>\n\n      <p class=\"my-8\">\n        Если у вас есть аккаунта, можете\n        <router-link to=\"/login\" class=\"primary--text\">\n          Войти здесь\n        </router-link>\n      </p>\n      <p class=\"my-4 red--text\" v-if=\"error\">\n        {{ error }}\n      </p>\n      <v-form ref=\"form\" lazy-validation>\n        <v-text-field\n          v-model=\"fullname\"\n          label=\"Фамилия Имя\"\n          outlined\n          :rules=\"[rules.required]\"\n        ></v-text-field>\n        <v-text-field\n          v-model=\"phone\"\n          v-mask=\"'+7 (###) ### ## ##'\"\n          label=\"Номер телефона\"\n          outlined\n          :rules=\"[rules.required, rules.phone]\"\n        ></v-text-field>\n        <v-text-field\n          v-model=\"password\"\n          outlined\n          label=\"Пароль\"\n          :type=\"show ? 'text' : 'password'\"\n          :append-icon=\"show ? 'mdi-eye' : 'mdi-eye-off'\"\n          @click:append=\"show = !show\"\n          :rules=\"[rules.required, rules.min]\"\n        ></v-text-field>\n        <v-checkbox\n          class=\"mt-0\"\n          v-model=\"accept\"\n          label=\"* Я соглашаюсь с правилами использования сервиса, а также с передачей и обработкой моих данных в Med-share. Я подтверждаю своё совершеннолетие и ответственность за размещение объявления\"\n          :rules=\"[rules.required]\"\n        ></v-checkbox>\n        <v-btn color=\"primary\" large width=\"300\" @click=\"register\">\n          Зарегистрироваться\n        </v-btn>\n      </v-form>\n    </div>\n    <div class=\"illustration-wrapper\">\n      <v-img\n        alt=\"Register page illustration\"\n        contain\n        src=\"@/assets/register-illustration.svg\"\n        transition=\"scale-transition\"\n      />\n    </div>\n    <v-dialog v-model=\"dialog\" width=\"500\">\n      <v-card>\n        <v-card-title>Успешно</v-card-title>\n        <v-card-text>\n          Теперь вы можете войти в ваш аккаунт.\n          <router-link to=\"/login\" class=\"primary--text\">\n            Войти здесь\n          </router-link>\n        </v-card-text>\n        <v-card-actions class=\"px-4 pb-4\">\n          <v-btn text @click=\"dialog = false\">Закрыть</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { VForm } from \"@/@types\";\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { api } from \"@/api\";\n\n@Component\nexport default class RegisterView extends Vue {\n  show = false;\n  phone = \"\";\n  password = \"\";\n  fullname = \"\";\n  accept = false;\n  error = \"\";\n  dialog = false;\n\n  rules = {\n    required: (value) => !!value || \"Обязательное поле\",\n    min: (v) => v.length >= 8 || \"Минимум 8 символов\",\n    phone: (v) =>\n      /^(\\+7) \\([0-9]{3}\\) ([0-9]{3}) ([0-9]{2}) ([0-9]{2})$/.test(v) ||\n      \"Правильный номер\",\n  };\n\n  $refs: {\n    form: VForm;\n  };\n\n  public register() {\n    if (!this.$refs.form.validate()) return;\n\n    api\n      .post(\"/users/\", {\n        phone: this.phone,\n        fullname: this.fullname,\n        password: this.password,\n      })\n      .then(() => {\n        this.dialog = true;\n      })\n      .catch(({ response }) => {\n        if (response.data.message == \"Phone exists\")\n          this.error = \"Номер уже зарегистрирован\";\n      });\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.info-wrapper {\n  max-width: 550px;\n  flex: 1;\n}\n.register-title {\n  font-size: 2.2rem;\n  font-weight: 600;\n}\n</style>\n"]}]}