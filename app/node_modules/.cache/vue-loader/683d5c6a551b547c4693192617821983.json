{"remainingRequest":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Downloads\\project\\app\\src\\views\\posts\\Search.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\User\\Downloads\\project\\app\\src\\views\\posts\\Search.vue","mtime":1607051106000},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619785757533},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1619785757509},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\ts-loader\\index.js","mtime":1619785330507},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619785757533},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1619785764623}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBQb3N0IH0gZnJvbSAiQC9AdHlwZXMiOwppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgeyBhcGkgfSBmcm9tICJAL2FwaSI7CgpAQ29tcG9uZW50CmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvc3RTZWFyY2hWaWV3IGV4dGVuZHMgVnVlIHsKICBsaXN0OiBQb3N0W10gPSBbXTsKICBjb3VudCA9IDA7CiAgaXNFbmQgPSBmYWxzZTsKCiAgcHVibGljIGFzeW5jIGZldGNoKG9mZnNldDogbnVtYmVyKSB7CiAgICBjb25zdCB7IHF1ZXJ5IH0gPSB0aGlzLiRyb3V0ZS5xdWVyeTsKICAgIGNvbnN0IHsKICAgICAgZGF0YTogeyByZXN1bHQsIGNvdW50IH0sCiAgICB9ID0gYXdhaXQgYXBpLmdldChgL3Bvc3RzP3F1ZXJ5PSR7cXVlcnl9Jm9mZnNldD0ke29mZnNldH1gKTsKICAgIGlmIChyZXN1bHQubGVuZ3RoID09IDApIHsKICAgICAgdGhpcy5pc0VuZCA9IHRydWU7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHRoaXMubGlzdC5wdXNoKC4uLnJlc3VsdCk7CiAgICB0aGlzLmNvdW50ID0gY291bnQ7CiAgfQoKICBwdWJsaWMgcGFyc2VTdGF0dXMoc3RhdHVzOiBzdHJpbmcpIHsKICAgIGlmIChzdGF0dXMgPT0gInJlY2lwZSIpIHsKICAgICAgcmV0dXJuICLQn9C+INGA0LXRhtC10L/RgtGDIjsKICAgIH0KICAgIHJldHVybiAi0JHQtdC3INGA0LXRhtC10L/RgtCwIjsKICB9CgogIHB1YmxpYyBwYXJzZURhdGUoZGF0ZTogc3RyaW5nKSB7CiAgICBjb25zdCB0ZW1wID0gbmV3IERhdGUoZGF0ZSk7CiAgICByZXR1cm4gdGVtcC50b0xvY2FsZURhdGVTdHJpbmcoKS5yZXBsYWNlKC9cLy9nLCAiLiIpOwogIH0KCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIGF3YWl0IHRoaXMuZmV0Y2goMCk7CiAgfQp9Cg=="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/views/posts","sourcesContent":["<template>\n  <div class=\"pb-10\">\n    <p class=\"subtitle\">Найдено {{ count }} препаратов</p>\n    <p>\n      Забирая препараты, Вы действуете на своё усмотрение и ответственность за\n      ваше здоровье лежит на Вас. Med-share является только площадкой для\n      размещения объявлений.\n    </p>\n    <v-card v-for=\"item in list\" :key=\"item.ID + Math.random()\" class=\"mb-5\">\n      <v-card-title>{{ item.TITLE }}</v-card-title>\n      <v-card-subtitle class=\"primary--text\">{{\n        parseStatus(item.STATUS)\n      }}</v-card-subtitle>\n      <v-card-text>\n        <v-container class=\"pa-0\">\n          <v-row>\n            <v-col cols=\"6\" class=\"py-0\">Срок годности:</v-col>\n            <v-col cols=\"6\" class=\"py-0 primary--text\">{{\n              parseDate(item.EXPIRES)\n            }}</v-col>\n          </v-row>\n          <v-row>\n            <v-col cols=\"6\" class=\"py-0\">Количество/состояние:</v-col>\n            <v-col cols=\"6\" class=\"py-0 primary--text\">{{ item.AMOUNT }}</v-col>\n          </v-row>\n          <v-row>\n            <v-col cols=\"6\" class=\"py-0\">Способ хранения:</v-col>\n            <v-col cols=\"6\" class=\"py-0 primary--text\">{{ item.STORAGE }}</v-col>\n          </v-row>\n          <v-row>\n            <v-col cols=\"6\" class=\"py-0\">Контакты:</v-col>\n            <v-col cols=\"6\" class=\"py-0 primary--text\">{{\n              item.CONTACTS\n            }}</v-col>\n          </v-row>\n        </v-container>\n        <hr class=\"my-2\" />\n        <p class=\"mb-0\">{{ item.FULLNAME }}</p>\n      </v-card-text>\n    </v-card>\n    <v-btn\n      large\n      v-if=\"!isEnd\"\n      color=\"primary\"\n      width=\"100%\"\n      @click=\"fetch(list.length)\"\n    >\n      Загрузить еще\n    </v-btn>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Post } from \"@/@types\";\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { api } from \"@/api\";\n\n@Component\nexport default class PostSearchView extends Vue {\n  list: Post[] = [];\n  count = 0;\n  isEnd = false;\n\n  public async fetch(offset: number) {\n    const { query } = this.$route.query;\n    const {\n      data: { result, count },\n    } = await api.get(`/posts?query=${query}&offset=${offset}`);\n    if (result.length == 0) {\n      this.isEnd = true;\n      return;\n    }\n    this.list.push(...result);\n    this.count = count;\n  }\n\n  public parseStatus(status: string) {\n    if (status == \"recipe\") {\n      return \"По рецепту\";\n    }\n    return \"Без рецепта\";\n  }\n\n  public parseDate(date: string) {\n    const temp = new Date(date);\n    return temp.toLocaleDateString().replace(/\\//g, \".\");\n  }\n\n  async created() {\n    await this.fetch(0);\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped></style>\n"]}]}