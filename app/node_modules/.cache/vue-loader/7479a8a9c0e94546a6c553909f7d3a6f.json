{"remainingRequest":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Downloads\\project\\app\\src\\views\\medicines\\MedicinesView.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\User\\Downloads\\project\\app\\src\\views\\medicines\\MedicinesView.vue","mtime":1619179155000},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619785757533},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1619785757509},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\ts-loader\\index.js","mtime":1619785330507},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619785757533},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1619785764623}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IHsgTWVkaWNpbmVzU3VnZ2VzdGlvbiB9IGZyb20gIkAvQHR5cGVzIjsKaW1wb3J0IGRlYm91bmNlIGZyb20gImxvZGFzaC5kZWJvdW5jZSI7CmltcG9ydCB7IGFwaSB9IGZyb20gIkAvYXBpIjsKaW1wb3J0IHsgVkNvbWJvYm94IH0gZnJvbSAiQC9AdHlwZXMiOwoKQENvbXBvbmVudCh7CiAgd2F0Y2g6IHsKICAgIHF1ZXJ5OiAiZmV0Y2hTdWdnZXN0aW9ucyIsCiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaFN1Z2dlc3Rpb25zOiBkZWJvdW5jZShhc3luYyBmdW5jdGlvbigKICAgICAgdGhpczogTWVkaWNpbmVzVmlldywKICAgICAgdmFsOiBzdHJpbmcKICAgICkgewogICAgICBpZiAoIXZhbCkgcmV0dXJuOwogICAgICBpZiAodmFsLmxlbmd0aCA8IDEpIHJldHVybjsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBhcGkuZ2V0KCIvbWVkaWNpbmVzL2F1dG9jb21wbGV0ZT9xdWVyeT0iICsgdmFsKTsKICAgICAgdGhpcy5zdWdnZXN0aW9ucyA9IGRhdGE7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgfSwKICAgIDUwMCksCiAgfSwKfSkKZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVkaWNpbmVzVmlldyBleHRlbmRzIFZ1ZSB7CiAgcXVlcnkgPSAiIjsKICBzdWdnZXN0aW9uczogTWVkaWNpbmVzU3VnZ2VzdGlvbltdID0gW107CiAgbG9hZGluZyA9IGZhbHNlOwoKICAkcmVmczogewogICAgYm94OiBWQ29tYm9ib3g7CiAgfTsKCiAgcHVibGljIG9wZW5NZWRpY2luZVBhZ2UoeyBJRCB9KSB7CiAgICBpZiAoIUlEKSByZXR1cm47CgogICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICBuYW1lOiAibWVkaWNpbmUtdmlldyIsCiAgICAgIHBhcmFtczogewogICAgICAgIGlkOiBJRCwKICAgICAgfSwKICAgIH0pOwogIH0KCiAgcHVibGljIG9wZW5TZWFyY2hQYWdlKCkgewogICAgaWYgKCF0aGlzLnF1ZXJ5KSByZXR1cm47CgogICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICBwYXRoOiAiL21lZGljaW5lcy9zZWFyY2giLAogICAgICBxdWVyeTogewogICAgICAgIHF1ZXJ5OiB0aGlzLnF1ZXJ5LAogICAgICB9LAogICAgfSk7CiAgICB0aGlzLiRyZWZzLmJveC5ibHVyKCk7CiAgfQp9Cg=="},{"version":3,"sources":["MedicinesView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MedicinesView.vue","sourceRoot":"src/views/medicines","sourcesContent":["<template>\n  <div id=\"medicines-view\" class=\"px-16 pt-15 d-flex justify-space-between\">\n    <div class=\"info-wrapper\">\n      <h1 class=\"medicines-title\">\n        Лекарства в аптеках\n      </h1>\n\n      <v-combobox\n        ref=\"box\"\n        full-width\n        :search-input.sync=\"query\"\n        solo\n        clearable\n        :loading=\"loading\"\n        :items=\"suggestions\"\n        item-text=\"TITLE\"\n        item-value=\"ID\"\n        placeholder=\"Введите название препарата\"\n        append-icon=\"mdi-magnify\"\n        class=\"mt-10\"\n        @keydown.enter=\"openSearchPage\"\n        @input=\"openMedicinePage\"\n      >\n      </v-combobox>\n\n      <router-view :key=\"$route.fullPath\"></router-view>\n    </div>\n    <div class=\"illustration-wrapper\">\n      <v-img\n        alt=\"Medicines page illustration\"\n        contain\n        src=\"@/assets/medicines-illustration.svg\"\n        transition=\"scale-transition\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { MedicinesSuggestion } from \"@/@types\";\nimport debounce from \"lodash.debounce\";\nimport { api } from \"@/api\";\nimport { VCombobox } from \"@/@types\";\n\n@Component({\n  watch: {\n    query: \"fetchSuggestions\",\n  },\n  methods: {\n    fetchSuggestions: debounce(async function(\n      this: MedicinesView,\n      val: string\n    ) {\n      if (!val) return;\n      if (val.length < 1) return;\n      this.loading = true;\n      const { data } = await api.get(\"/medicines/autocomplete?query=\" + val);\n      this.suggestions = data;\n      this.loading = false;\n    },\n    500),\n  },\n})\nexport default class MedicinesView extends Vue {\n  query = \"\";\n  suggestions: MedicinesSuggestion[] = [];\n  loading = false;\n\n  $refs: {\n    box: VCombobox;\n  };\n\n  public openMedicinePage({ ID }) {\n    if (!ID) return;\n\n    this.$router.push({\n      name: \"medicine-view\",\n      params: {\n        id: ID,\n      },\n    });\n  }\n\n  public openSearchPage() {\n    if (!this.query) return;\n\n    this.$router.push({\n      path: \"/medicines/search\",\n      query: {\n        query: this.query,\n      },\n    });\n    this.$refs.box.blur();\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/scss/_variables.scss\";\n\n.info-wrapper {\n  max-width: 550px;\n}\n.medicines-title {\n  font-size: 2.2rem;\n  font-weight: 600;\n}\n.illustration-wrapper {\n  position: fixed;\n  right: 0;\n  top: 64px;\n  width: calc(100vw - 550px - 60px);\n  height: calc(100vh - 64px);\n  max-width: 800px;\n}\n</style>\n\n<style lang=\"scss\">\n#medicines-view {\n  .v-autocomplete.v-select--is-menu-active .v-input__icon--append .v-icon {\n    transform: none;\n  }\n}\n</style>\n"]}]}