{"remainingRequest":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Downloads\\project\\app\\src\\views\\Register.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\User\\Downloads\\project\\app\\src\\views\\Register.vue","mtime":1607041340000},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619785757533},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1619785757509},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\ts-loader\\index.js","mtime":1619785330507},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619785757533},{"path":"C:\\Users\\User\\Downloads\\project\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1619785764623}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCB7IFZGb3JtIH0gZnJvbSAiQC9AdHlwZXMiOwppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgeyBhcGkgfSBmcm9tICJAL2FwaSI7CgpAQ29tcG9uZW50CmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlZ2lzdGVyVmlldyBleHRlbmRzIFZ1ZSB7CiAgc2hvdyA9IGZhbHNlOwogIHBob25lID0gIiI7CiAgcGFzc3dvcmQgPSAiIjsKICBmdWxsbmFtZSA9ICIiOwogIGFjY2VwdCA9IGZhbHNlOwogIGVycm9yID0gIiI7CiAgZGlhbG9nID0gZmFsc2U7CgogIHJ1bGVzID0gewogICAgcmVxdWlyZWQ6ICh2YWx1ZSkgPT4gISF2YWx1ZSB8fCAi0J7QsdGP0LfQsNGC0LXQu9GM0L3QvtC1INC/0L7Qu9C1IiwKICAgIG1pbjogKHYpID0+IHYubGVuZ3RoID49IDggfHwgItCc0LjQvdC40LzRg9C8IDgg0YHQuNC80LLQvtC70L7QsiIsCiAgICBwaG9uZTogKHYpID0+CiAgICAgIC9eKFwrNykgXChbMC05XXszfVwpIChbMC05XXszfSkgKFswLTldezJ9KSAoWzAtOV17Mn0pJC8udGVzdCh2KSB8fAogICAgICAi0J/RgNCw0LLQuNC70YzQvdGL0Lkg0L3QvtC80LXRgCIsCiAgfTsKCiAgJHJlZnM6IHsKICAgIGZvcm06IFZGb3JtOwogIH07CgogIHB1YmxpYyByZWdpc3RlcigpIHsKICAgIGlmICghdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHJldHVybjsKCiAgICBhcGkKICAgICAgLnBvc3QoIi91c2Vycy8iLCB7CiAgICAgICAgcGhvbmU6IHRoaXMucGhvbmUsCiAgICAgICAgZnVsbG5hbWU6IHRoaXMuZnVsbG5hbWUsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsCiAgICAgIH0pCiAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLmRpYWxvZyA9IHRydWU7CiAgICAgIH0pCiAgICAgIC5jYXRjaCgoeyByZXNwb25zZSB9KSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZSA9PSAiUGhvbmUgZXhpc3RzIikKICAgICAgICAgIHRoaXMuZXJyb3IgPSAi0J3QvtC80LXRgCDRg9C20LUg0LfQsNGA0LXQs9C40YHRgtGA0LjRgNC+0LLQsNC9IjsKICAgICAgfSk7CiAgfQp9Cg=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"register-view\" class=\"px-16 pt-15 d-flex justify-space-between\">\n    <div class=\"info-wrapper\">\n      <h1 class=\"register-title\">\n        Регистрация\n      </h1>\n\n      <p class=\"my-8\">\n        Если у вас есть аккаунта, можете\n        <router-link to=\"/login\" class=\"primary--text\">\n          Войти здесь\n        </router-link>\n      </p>\n      <p class=\"my-4 red--text\" v-if=\"error\">\n        {{ error }}\n      </p>\n      <v-form ref=\"form\" lazy-validation>\n        <v-text-field\n          v-model=\"fullname\"\n          label=\"Фамилия Имя\"\n          outlined\n          :rules=\"[rules.required]\"\n        ></v-text-field>\n        <v-text-field\n          v-model=\"phone\"\n          v-mask=\"'+7 (###) ### ## ##'\"\n          label=\"Номер телефона\"\n          outlined\n          :rules=\"[rules.required, rules.phone]\"\n        ></v-text-field>\n        <v-text-field\n          v-model=\"password\"\n          outlined\n          label=\"Пароль\"\n          :type=\"show ? 'text' : 'password'\"\n          :append-icon=\"show ? 'mdi-eye' : 'mdi-eye-off'\"\n          @click:append=\"show = !show\"\n          :rules=\"[rules.required, rules.min]\"\n        ></v-text-field>\n        <v-checkbox\n          class=\"mt-0\"\n          v-model=\"accept\"\n          label=\"* Я соглашаюсь с правилами использования сервиса, а также с передачей и обработкой моих данных в Med-share. Я подтверждаю своё совершеннолетие и ответственность за размещение объявления\"\n          :rules=\"[rules.required]\"\n        ></v-checkbox>\n        <v-btn color=\"primary\" large width=\"300\" @click=\"register\">\n          Зарегистрироваться\n        </v-btn>\n      </v-form>\n    </div>\n    <div class=\"illustration-wrapper\">\n      <v-img\n        alt=\"Register page illustration\"\n        contain\n        src=\"@/assets/register-illustration.svg\"\n        transition=\"scale-transition\"\n      />\n    </div>\n    <v-dialog v-model=\"dialog\" width=\"500\">\n      <v-card>\n        <v-card-title>Успешно</v-card-title>\n        <v-card-text>\n          Теперь вы можете войти в ваш аккаунт.\n          <router-link to=\"/login\" class=\"primary--text\">\n            Войти здесь\n          </router-link>\n        </v-card-text>\n        <v-card-actions class=\"px-4 pb-4\">\n          <v-btn text @click=\"dialog = false\">Закрыть</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { VForm } from \"@/@types\";\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { api } from \"@/api\";\n\n@Component\nexport default class RegisterView extends Vue {\n  show = false;\n  phone = \"\";\n  password = \"\";\n  fullname = \"\";\n  accept = false;\n  error = \"\";\n  dialog = false;\n\n  rules = {\n    required: (value) => !!value || \"Обязательное поле\",\n    min: (v) => v.length >= 8 || \"Минимум 8 символов\",\n    phone: (v) =>\n      /^(\\+7) \\([0-9]{3}\\) ([0-9]{3}) ([0-9]{2}) ([0-9]{2})$/.test(v) ||\n      \"Правильный номер\",\n  };\n\n  $refs: {\n    form: VForm;\n  };\n\n  public register() {\n    if (!this.$refs.form.validate()) return;\n\n    api\n      .post(\"/users/\", {\n        phone: this.phone,\n        fullname: this.fullname,\n        password: this.password,\n      })\n      .then(() => {\n        this.dialog = true;\n      })\n      .catch(({ response }) => {\n        if (response.data.message == \"Phone exists\")\n          this.error = \"Номер уже зарегистрирован\";\n      });\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.info-wrapper {\n  max-width: 550px;\n  flex: 1;\n}\n.register-title {\n  font-size: 2.2rem;\n  font-weight: 600;\n}\n</style>\n"]}]}